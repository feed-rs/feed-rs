{"feed_type":"RSS1","id":"2b7fcb68c9743263394010068fd290dd","title":{"content_type":"text/plain","src":null,"content":"planet.freedesktop.org"},"updated":null,"authors":[],"description":{"content_type":"text/plain","src":null,"content":"planet.freedesktop.org - http://planet.freedesktop.org"},"links":[{"href":"http://planet.freedesktop.org/","rel":null,"media_type":null,"href_lang":null,"title":null,"length":null}],"categories":[],"contributors":[],"generator":null,"icon":null,"language":null,"logo":null,"published":null,"rating":null,"rights":null,"ttl":null,"entries":[{"id":"2496696b7c176366343fcf8bd1fc47b4","title":{"content_type":"text/plain","src":null,"content":"Dave Airlie (blogspot): DirectX on Linux - what it is/isn't"},"updated":null,"authors":[],"content":{"body":"This morning I saw two things that were Microsoft and Linux graphics related.<br /><a href=\"https://www.blogger.com/goog_1507224819\"><br /></a><a href=\"https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-build-2020-summary/\">https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-build-2020-summary/</a><br /><br />a) DirectX on Linux for compute workloads<br />b) Linux GUI apps on Windows<br /><br />At first I thought these were related, but it appears at least presently these are quite orthogonal projects.<br /><br />First up clarify for the people who jump to insane conclusions:<br /><br />The DX on Linux is a WSL2 only thing. Microsoft are not any way bringing DX12 to Linux outside of the Windows environment. They are also in no way open sourcing any of the DX12 driver code. They are recompiling the DX12 userspace drivers (from GPU vendors) into Linux shared libraries, and running them on a kernel driver shim that transfers the kernel interface up to the closed source Windows kernel driver. This is in no way useful for having DX12 on Linux baremetal or anywhere other than in a WSL2 environment. It is not useful for Linux gaming.<br /><br />Microsoft have submitted to the upstream kernel the shim driver to support this. This driver exposes their D3DKMT kernel interface from Windows over virtual channels into a Linux driver that provides an ioctl interface. The kernel drivers are still all running on the Windows side.<br /><br />Now I read the Linux GUI apps bit and assumed that these things were the same, well it turns out the DX12 stuff doesn't address presentation at all. It's currently only for compute/ML workloads using CUDA/DirectML. There isn't a way to put the results of DX12 rendering from the Linux guest applications onto the screen at all. The other project is a wayland/RDP integration server, that connects Linux apps via wayland to RDP client on Windows display, integrating that with DX12 will be a tricky project, and then integrating that upstream with the Linux stack another step completely.<br /><br />Now I'm sure this will be resolved, but it has certain implications on how the driver architecture works and how much of the rest of the Linux graphics ecosystem you have to interact with, and that means that the current driver might not be a great fit in the long run and upstreaming it prematurely might be a bad idea.<br /><br />From my point of view the kernel shim driver doesn't really bring anything to Linux, it's just a tunnel for some binary data between a host windows kernel binary and a guest linux userspace binary. It doesn't enhance the Linux graphics ecosystem in any useful direction, and as such I'm questioning why we'd want this upstream at all.<br /><br />","content_type":"text/html","length":null,"src":null},"links":[{"href":"https://airlied.blogspot.com/2020/05/directx-on-linux-what-it-isisnt.html","rel":null,"media_type":null,"href_lang":null,"title":null,"length":null}],"summary":null,"categories":[],"contributors":[],"published":"2020-05-20T00:01:59Z","source":null,"rights":null,"media":[],"language":null,"base":null}]}